{"componentChunkName":"component---src-templates-article-template-tsx","path":"/diy-storage-fundamentals","result":{"data":{"allSite":{"edges":[{"node":{"siteMetadata":{"name":"GeekHub"}}}]}},"pageContext":{"isCreatedByStatefulCreatePages":false,"article":{"id":"cbab656b-fbd8-5465-86d0-12b49cdc89ee","slug":"/diy-storage-fundamentals","secret":false,"title":"DIY Storage: Fundamentals","author":"Serge","date":"November 20th, 2019","dateForSEO":"2019-11-20T00:00:00.000Z","timeToRead":9,"excerpt":"The biggest dichotomy in software is arguably code vs data. It all goes back to  von Neumann  vs\n Harvard  architecture, where the major…","subscription":true,"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"DIY Storage: Fundamentals\",\n  \"author\": \"Serge\",\n  \"date\": \"2019-11-20T00:00:00.000Z\",\n  \"hero\": \"./storage.jpg\",\n  \"tags\": [\"storage\", \"from scratch\"]\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"The biggest dichotomy in software is arguably code vs data. It all goes back to \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://en.wikipedia.org/wiki/Von_Neumann_architecture\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }), \"von Neumann\"), \" vs\\n\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://en.wikipedia.org/wiki/Harvard_architecture\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }), \"Harvard\"), \" architecture, where the major debate was about whether we keep code and data separately\\n(more explicit, easier to understand and reason about) or in shared memory (cheaper). Cheaper option won as it always does and so our industry spent more than\\nhalf a century applying band aids to it. Right now it\\u2019s mostly stabilized around \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://en.wikipedia.org/wiki/W%5EX\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }), \"logical separation\"), \" since\\nphysical is unattainable. This distinction pops up all over the field all the time. Here are some examples:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"First two services that Amazon released in AWS were S3 (storage aka data) and EC2 (compute aka code). Similar pattern occurred in Azure and GCP rollouts.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"To this day all modern computers have two major compute components (CPU and GPU) and two \\u201Cstorage\\u201D components (Random Access Memory and Mass Storage \\u2014 hdd/ssd).\\nRAM is often lumped with \\u201Ccompute\\u201D, but not because it does any computations on its own (it most definitely is storing data), but because CPU is absolutely\\nuseless without it. All other peripherals are mostly irrelevant commodity.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"There is a \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://en.wikipedia.org/wiki/Homoiconicity\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }), \"special term\"), \" for programming languages that don\\u2019t really care about this\\ndistinction.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Remote code execution is data (arrived on the machine over network) ending up treated as code (executed), \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://www.xkcd.com/327/\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }), \"SQL injection\"), \"\\nis another class of attacks that are based on data being confused for code.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"One of The Great Debates of modern times (along with \\u201Ctabs vs spaces\\u201D and \\u201Cemacs vs vim\\u201D) is embedding \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://vuejs.org/\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }), \"code in data\"), \" or\\n\", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://reactjs.org/\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }), \"data in code\"), \".\")), mdx(\"p\", null, \"Now, why did I tell all of that? Mostly to show off, but also to put another concept into a spotlight: mutability. Elders tell legends about ancient gods of\\nself-modifying code, many people have \\u033Abeen \\u0335s\\u031E\\u0335e\\u035Ae\\u0335k\\u0333\\u0335i\\u0353ng \\u0330\\u0334t\\u0355h\\u0336e\\u033A\\u0336i\\u031C\\u0316\\u0335r\\u0333 \\u032E\\u0334p\\u031E\\u0337o\\u0319w\\u0337e\\u031E\\u0337r\\u0324\\u034E\\u0334s\\u0355, \\u0331f\\u0337e\\u0359\\u033Aw o\\u0334f\\u0321\\u0356 \\u0325\\u0345t\\u0337h\\u032C\\u033C\\u0337e\\u0318\\u0335m\\u0323\\u032B e\\u0336v\\u033B\\u0354\\u0318\\u0336e\\u0324\\u0318\\u0336r\\u0324 \\u034E\\u031D\\u0316ca\\u0334m\\u0339\\u033B\\u0334e\\u0355 \\u035C\\u0334b\\u0333\\u0331\\u0337a\\u032A\\u0317\\u0335c\\u033C\\u032B\\u0324\\u0334k\\u033C\\u0336,\\u0327\\u0359\\u0354\\u031C \\u0317\\u0335n\\u0331\\u0321\\u0337o\\u0333\\u0319\\u034E\\u0359\\u0336n\\u0355\\u0336e\\u031C \\u0345\\u0334o\\u0356\\u0330\\u0330\\u0334f\\u0326\\u032C \\u0336t\\u0319h\\u0337o\\u0356\\u0319\\u0355\\u0354s\\u0337e\\u034E\\u0321 \\u032A\\u0326\\u0359\\u0332\\u0325\\u0335w\\u032D\\u0318\\u0331\\u0339\\u0335h\\u0355\\u0333\\u0329\\u0329\\u032C\\u0334o\\u0332\\u0323\\u0326\\u0348\\u0330 \\u033C\\u0348\\u0317\\u0348\\u0337c\\u0333\\u0324\\u0319a\\u0335m\\u0326e \\u032B\\u0359\\u035A\\u0328\\u0336b\\u0329\\u0336a\\u032E\\u032A\\u0317\\u0354\\u0335c\\u0321\\u0345\\u0326k \\u0330\\u031F\\u031C\\u0322\\u032C\\u034E\\u0335m\\u0353\\u0334a\\u032E\\u0336i\\u0356\\u0321\\u0327\\u0336n\\u0347\\u0335t\\u034E\\u031E\\u033B\\u032A\\u0354a\\u0334i\\u034D\\u032En\\u0335e\\u0332\\u0336d\\u0359 \\u0345\\u0348\\u031C\\u035A\\u0353e\\u0334n\\u0330\\u0319\\u0334o\\u0345\\u0334u\\u0331g\\u0335h\\u0322\\u0327 \\u032D\\u0325\\u0339\\u0327\\u0337\\u0336s\\u031F\\u032E\\u0326\\u0339\\u0339\\u0331\\u0336a\\u0320\\u0334n\\u0332\\u0333\\u0334\\u0334i\\u0323\\u0327\\u032A\\u0316\\u032D\\u033B\\u0349\\u0335\\u0334t\\u031C\\u035A\\u0316\\u035C\\u032E\\u0333\\u0325\\u0336y\\u0328 \\u0316\\u0336t\\u033A\\u0348\\u0323o \\u0333\\u0332\\u031D\\u0335d\\u0339\\u031E\\u0336e\\u0330\\u0336s\\u0329\\u032C\\u032F\\u0326\\u0320\\u0334c\\u0331\\u0337r\\u0317\\u0334\\u0335i\\u0331\\u0349\\u0339\\u0327\\u032B\\u0332\\u0337\\u0335b\\u033A\\u032A\\u0320\\u0318\\u032F\\u0318e\\nw\\u035C\\u0337\\u0336h\\u031F\\u031C\\u0355\\u031F\\u0345\\u0328\\u0319\\u0324\\u0337\\u0334a\\u0332\\u033B\\u032F\\u033C\\u032F\\u0359\\u031D\\u0322\\u0336t\\u032A\\u035A\\u0326\\u035A \\u0323\\u0319\\u0337l\\u0354\\u0336i\\u0349\\u0345\\u0334\\u0334e\\u0318\\u033B\\u0316\\u0327\\u033B\\u0319\\u0359\\u0335\\u0335s\\u032D\\u0359\\u032B\\u0333\\u0328\\u0327\\u031F \\u0337b\\u0329\\u0348\\u0334\\u0335e\\u0332\\u031E\\u033A\\u0325\\u0316\\u0347\\u0327\\u0317\\u031C\\u0337\\u0337y\\u031F\\u034D\\u032C\\u0345\\u0331\\u0348\\u0335o\\u034E\\u034E\\u0324\\u0349n\\u0336\\u0336d\\u0356\\u033C\\u033B\\u032E\\u033C\\u0329. In all seriousness, though, reasoning about code is \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://en.wikipedia.org/wiki/Halting_problem\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }), \"hard enough\"), \" without it morphing\\nand shapeshifting while we are trying to do it, so these days our industry mostly abandoned the idea of messing with code while it\\u2019s running (except for some\\n\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://en.wikipedia.org/wiki/Just-in-time_compilation\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }), \"very specific\"), \" cases). This should not be confused with code being changed over time, which is also\\ndifficult but we are kinda stuck with having to change things over time, so \\u201Cdeal with it\\u201D. On the other hand, something needs to be changed during runtime in\\norder for program to be useful. Anything that a static code could produce by operating on a predefined static data could be calculated during compilation and\\nwe wouldn\\u2019t need a program anymore - just deliver precomputed result to the user and be done with it. Problem is, those pesky users have their own ideas about\\nwhat should be calculated over what inputs so we have to figure out how to deal with \\u201Cvariable\\u201D data or as they call it \\u201Cmutable state\\u201D. In essence, \\u201Cstorage\\u201D\\nis all about saving data (both inserting new pieces of information and changing existing ones), querying it back and deleting what no longer needed. These basic\\noperations are often referred to as \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://en.wikipedia.org/wiki/Create,_read,_update_and_delete\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }), \"CRUD\"), \". Despite seeming simplicity they describe a whole\\nworld of different requirements. \\u201CRead\\u201D may mean retrieve information sequentially on a single machine (e.g. restoring backup), or it could mean running a complex\\nquery over petabytes of data, or run thousands such queries per second with strict requirement on latency. \\u201CCreate\\u201D may also be as simple as just appending\\nsome \\u201Cbag-of-bytes\\u201D at the end of some \\u201Cstream\\u201D or it may mean making decisions on how many copies, distributed around the world do we want to be confirmed\\nbefore we actually consider \\u201Ccreate\\u201D operation complete, what happens if client crashes and/or cancels while operation is in progress, at what point this new\\ndata gets available for reading and to whom, what happens if multiple clients try to update same piece of data simultaneously (by some definition of simultaneously\\nwhich is not as obvious as it may seem). Update/delete may be outright banned (it\\u2019s more common than one might think) or we may need to store all the different\\nversions of information plus all the goodness of distributing these versions across multiple machines.\"), mdx(\"p\", null, \"In the coming months I\\u2019ll explore \\u201Cmass storage\\u201D technologies from filesystems (ntfs, zfs) to \\u201Ctiled\\u201D file storage (hdf5, parquet) to embedded DBs (rocksdb, LiteDB)\\nto standalone DBs (generic SQL DB with data stored in pages, transaction log, replication, secondary indices and so on, I\\u2019m not going to cover parsing of\\nactual SQL \\u2014 that\\u2019s big enough can of worms for entire separate series, neither will I try to cover entire SQL standard \\u2014 not 2016 not any of the earlier\\nones), to full text search (lucene), to distributed systems (consensus, distributed transactions, consistency models, load balancing, high availability and failover,\\nas well as specifics of some of the popular systems like redis, hdfs, mongodb, kafka and cassandra). I\\u2019m fairly well versed in most of these technologies, but not\\nall of them so I\\u2019ll need to do some figuring out along the way. That\\u2019s in addition to figuring out how to make reimplementation simple while still keeping the spirit/design\\nof the original.\"), mdx(\"p\", null, \"Before I start let me quickly run through some of the basics.\"), mdx(\"h2\", {\n    \"id\": \"data-by-access-patterns\"\n  }, \"Data by access patterns\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Readable stream: you can read your data one-by-one, but you can never go back and reread anything plus you can\\u2019t write (something else wrote and generated this data:\\nthink receiving broadcast TV or looking at stars through a telescope \\u2014 you can\\u2019t exactly go and tell supernova to explode again). At some point stream becomes so\\nbig, that we start calling it a \\u201Cdata river\\u201D.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Writable stream: you can send your data \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"somewhere\"), \", and the fact of sending gets acknowledged, but you don\\u2019t know what happens to that data and just as with\\nreadable streams, you can never go back and redo your mistakes.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Read/Write streams: there is usually no such thing as read/write streams. Even when you are able to both read and write (think appending data to the end of file while\\nsomeone else reads all those appends), it\\u2019s not useful to \\u201Ceither read or write\\u201D at a current position and after either of operations is completed \\u2014 advance that\\ncurrent position, so even when we do have an ability to both read and write \\u2014 these are usually two separate streams with their own independent positions.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Rewindable stream: your regular stream, but you can start-over and start consuming the stream from the very beginning.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Bidirectional \\u201Cstream\\u201D: not a stream anymore since you can read or write it in both directions, so it is commonly referred to as a \\u201Ctape\\u201D (early computing had a lot\\nof actual physical tapes \\u201Cflying\\u201D around and even to this day magnetic tapes remain the most cost-effective way of keeping backups).\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Random access: as the name suggests, you can access your data at any position any time you want. Similar to the concepts above, ability to read and/or write\\nis independent of \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"where\"), \" we can access our data.\")), mdx(\"h2\", {\n    \"id\": \"data-by-internal-structure\"\n  }, \"Data by internal structure\"), mdx(\"h3\", {\n    \"id\": \"unstructured-data\"\n  }, \"Unstructured data\"), mdx(\"p\", null, \"Simple pile (or bag) of bytes without any apparent structure. Usually there is \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"some\"), \" underlying structure, but it\\u2019s not obvious. It could be anything from first\\nbajillion digits of pi to raw recording of some natural phenomena (including but not limited to white noise) to any data encrypted with a stream cipher. This type\\nof storage has pretty limited usefulness. Also in this category data that \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"may\"), \" have structure, but there is absolutely no guarantee that it does: files on the\\nfilesystem, blobs in the DB, pipes between processes.\"), mdx(\"h3\", {\n    \"id\": \"basic-structure\"\n  }, \"Basic structure\"), mdx(\"p\", null, \"Simplest form of structured storage is a stream of primitive data. It doesn\\u2019t need to be delimited since every entry has a fixed size. Block ciphers come to mind \\u2014\\nyou wouldn\\u2019t be able to discover the structure from observing data alone, but it is there and it becomes apparent from analyzing algorithm that produces this data.\\nI cannot really think of anything else that would fit here.\"), mdx(\"h3\", {\n    \"id\": \"record-stream\"\n  }, \"Record stream\"), mdx(\"p\", null, \"From a stream of primitives let\\u2019s move on to the stream of some complex entries called records. This is a two-tier (network protocol stacks have way more than two tiers\\nbut idea is similar) structure: first we need to separate records from each other and then, we can interpret data within each record. This gives us a \\u201Clog\\u201D \\u2014 stream\\nof records where only two operation are available: read stream from the start one record at a time and append one record to the end of the stream (plus sometimes\\nthird operation is provided: truncating start of the log to a specific position).\"), mdx(\"p\", null, \"There are two ways to delimit entries: \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://en.wikipedia.org/wiki/In-band_control\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }), \"in-band\"), \" and \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://en.wikipedia.org/wiki/Out-of-band_control\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }), \"out-of-band\"), \".\\nIn-band is simple: think comma-separated values. Both records and subfields within records are separated using control characters (newlines and commas respectively).\\nAt any point if we observe a \\u201Cnewline\\u201D control character, we end current record and open a new one. But what if we have newlines in our data? OK, let\\u2019s introduce\\nspecial quotation syntax. But what if we have quotes in our data? Here\\u2019s a special syntax to use quotes to \\u201Cescape\\u201D other quotes. It gets really messy really fast.\\nIn case of CSV it becomes even messier because there is no agreement or standard on how these special cases must be treated so we have a dozen or so slightly\\ndifferent  (but enough to be incompatible) versions of it. Out-of-band is more robust \\u2014 it\\nguarantees by construction that there is no confusion between data and control information. Notice that even if you use separate TCP stream to send data \\u2014 it\\u2019s still same packet stream on network (IP) layer and below,\\nif you store control data in a separate file on a filesystem \\u2014 it is still stored on the same physical disk. Separation doesn\\u2019t have to by physical (and what is\\nphysical separation anyway?), your format must guarantee that at any point of time you \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"expect\"), \" either metadata or data. For example, if we prepend each record with\\nits length in bytes (which itself is fixed length), after we read this length, we switch into a \\u201Cdata\\u201D mode and for the next \\u201Clength\\u201D bytes we don\\u2019t put any\\nadditional interpretation on what we read, then after \\u201Clength\\u201D bytes of uninterpreted data are received, we switch back to expecting length and so forth.\"), mdx(\"p\", null, \"For all its simplicity this concept is widely used all over the place: from performance monitoring, to error logging, to redo/transaction logs, to\\n\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://en.wikipedia.org/wiki/Tar_(computing)\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }), \"file archives\"), \", to almighty MapReduce (yes, yes it\\u2019s not the most hyped tech anymore) which doesn\\u2019t need anything\\nbut stream of records and, in fact, often used over \\u201Cclickstreams\\u201D \\u2014 unstructured records of user activity.\"), mdx(\"h3\", {\n    \"id\": \"random-access-bag-of-records\"\n  }, \"Random access bag of records\"), mdx(\"p\", null, \"Sometimes reading all records one by one is not desirable and we need to be able to access any record as efficiently as possible. Ever noticed that in some compressed\\nfiles you can quickly unpack any file inside it no matter how big the entire archive is and in some \\u2014 you \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://en.wikipedia.org/wiki/Solid_compression\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }), \"need to wait\"), \"\\nfor minutes in order to unpack tiny 100-bytes text file? Same principle applies to other data as well \\u2014 in some situations you don\\u2019t need all your information at once\\nand want to pick and chose instead. This is achieved using lookup tables (or indices \\u2014 similar but separate concept from database secondary indices): remember those\\nrecord lengths from previous chapter? They all have same length, why don\\u2019t we\\nextract them all and store them separately with small modification: instead of length \\u2014 let\\u2019s store start offset into the raw data (stored separately). Length is\\ntrivially calculated as a difference between two adjacent offsets. This way we can immediately jump to any record by first finding its offset in the LUT (simple\\narithmetic: LUT consists of entries of size S, so offset to zero-based entry N in LUT is N * S) reading LUT at this offset gives us position of our record. Updating\\nany of the records would require overwriting all the data that follows that record as well as recalculating all offsets of the affected records, but we can easily\\nappend records. Depending on our needs we can even avoid having to have two files \\u2014 one with LUT and one with raw data: just store data, then LUT, then a\\nsingle number that tells offset of the LUT. This way we can trivially find both data and LUT as well as add records without overwriting entire file. In fact some\\nformats (e.g. pdf) are using storage scheme similar to this \\u2014 they store some of the metadata in footer instead of header and it allows them to progressively\\n\\u201Cstream\\u201D pdf files to users as well as allow for incremental updates without overwriting everything. This is similar to book\\u2019s table of contents, but placed at the\\nend rather than the beginning of the book.\"), mdx(\"h3\", {\n    \"id\": \"dictionaries\"\n  }, \"Dictionaries\"), mdx(\"p\", null, \"Accessing data using some numeric index is fun, but not always useful. More often we want to be able to find data using some label or \\u201Ckey\\u201D. Think about phone book\\u2026\\nscratch that \\u2014 no one uses those anymore. OK, dictionary it is then. Physical paper dictionary has all terms in it sorted alphabetically to allow for efficient search\\nof any term, once the term is found definition of that term can be anything - arbitrary text, pictures or even references to other definitions and/or external sources.\"), mdx(\"p\", null, \"Using the same method of extracting index information into a separate lookup table we can get following:\"), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"979px\"\n    }\n  }), \"\\n      \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"149.94892747701735%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAeABQDASIAAhEBAxEB/8QAGAABAQADAAAAAAAAAAAAAAAAAAIBAwX/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAAB7aaKEQK2Mj//xAAZEAACAwEAAAAAAAAAAAAAAAABQQAQMRH/2gAIAQEAAQUCtneRnYzX/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPwEf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPwEf/8QAFhAAAwAAAAAAAAAAAAAAAAAAADAx/9oACAEBAAY/AiL/AP/EAB0QAQACAgIDAAAAAAAAAAAAAAEAETFBECFRYZH/2gAIAQEAAT8hFc18nQ1Rl+oFqaICsEPHhLrUCA3eoT//2gAMAwEAAgADAAAAECPvAP/EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8QH//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8QH//EABwQAQEBAQADAQEAAAAAAAAAAAERACExQVFxgf/aAAgBAQABPxCiBA8xfhCIYaXjB7VfHrQghCMXQun4a6BIp9zWaECKb7P40Oud9PnTQ1E693Bv/9k=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"picture\", {\n    parentName: \"span\"\n  }, \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/f61914afd9a14beb2e5f9aa2784f9b64/2d3e7/index.webp 979w\"],\n    \"sizes\": \"(max-width: 979px) 100vw, 979px\",\n    \"type\": \"image/webp\"\n  })), \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/f61914afd9a14beb2e5f9aa2784f9b64/9ef9f/index.jpg 979w\"],\n    \"sizes\": \"(max-width: 979px) 100vw, 979px\",\n    \"type\": \"image/jpeg\"\n  })), \"\\n        \", mdx(\"img\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"src\": \"/static/f61914afd9a14beb2e5f9aa2784f9b64/9ef9f/index.jpg\",\n    \"alt\": \"index\",\n    \"title\": \"index\",\n    \"loading\": \"lazy\"\n  })), \"\\n      \"), \"\\n    \")), mdx(\"p\", null, \"Here we see alphabetically sorted list of keys and offsets from the start (in pages) to where these keys refer to. This is not too far from one of the common\\n\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/google/leveldb/blob/master/doc/table_format.md\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }), \"file formats\"), \" used in many systems. Let\\u2019s ignore meta blocks for a moment and what we see is\\ndata blocks are followed by variable size index block (with one key to offset/size mapping for every data block) and fixed size footer that has offset to index.\\nLooks almost primitive, though if we look where it is used we might get surprised. Sstables (sorted string tables \\u2014 files that are described above) originated\\nfrom Google\\u2019s \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://static.googleusercontent.com/media/research.google.com/en//archive/bigtable-osdi06.pdf\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }), \"BigTable paper\"), \" and leveldb although the idea of\\nimmutable sorted files that are sometimes merged together into a new set of immutable files (old files are deleted right after) instead of in-place updates comes\\nfrom \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.cs.umb.edu/~poneil/lsmtree.pdf\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }), \"LSMT paper\"), \". Sstables are now used in data-heavy applications in Google, Facebook (they have tendency to put\\nrocksdb into everything \\u2014 MyRocks, Rocksandra, LogDevice, etc and for a good reason: rocksdb is awesome), and basically everywhere since sstables are\\nused in Kafka, Cassandra, Flink, Ceph, etc..\"), mdx(\"p\", null, \"Guess what dictionary data structure is used even more than sstable? A tree. In particular in case of external storage, \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://en.wikipedia.org/wiki/B-tree\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }), \"B-trees\"), \"\\nare basically everywhere - and that\\u2019s what we\\u2019ll look into in the next post. This time with actual code, I promise.\"));\n}\n;\nMDXContent.isMDXComponent = true;","hero":{"full":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMEBf/EABUBAQEAAAAAAAAAAAAAAAAAAAEC/9oADAMBAAIQAxAAAAGhmayaqIQf/8QAGxAAAQQDAAAAAAAAAAAAAAAAAQACAyETMUH/2gAIAQEAAQUCbKstGWwuHf8A/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFxAAAwEAAAAAAAAAAAAAAAAAACAxQf/aAAgBAQAGPwKGL//EABkQAAMBAQEAAAAAAAAAAAAAAAABESEQMf/aAAgBAQABPyHFY093KsJNEh8Q+D//2gAMAwEAAgADAAAAEDTv/8QAFhEBAQEAAAAAAAAAAAAAAAAAAQAR/9oACAEDAQE/EBLS/8QAFxEBAQEBAAAAAAAAAAAAAAAAAQARUf/aAAgBAgEBPxBGx7f/xAAZEAEAAwEBAAAAAAAAAAAAAAABABEhQVH/2gAIAQEAAT8QEdBtdzOHdMqMKnGblibnPIRS6z//2Q==","aspectRatio":1.7541666666666667,"src":"/static/71a13948ce35d31b575bef9483761c34/3db47/storage.jpg","srcSet":"/static/71a13948ce35d31b575bef9483761c34/751b5/storage.jpg 236w,\n/static/71a13948ce35d31b575bef9483761c34/b976c/storage.jpg 472w,\n/static/71a13948ce35d31b575bef9483761c34/3db47/storage.jpg 944w,\n/static/71a13948ce35d31b575bef9483761c34/e87ba/storage.jpg 1416w,\n/static/71a13948ce35d31b575bef9483761c34/8076f/storage.jpg 1684w","srcWebp":"/static/71a13948ce35d31b575bef9483761c34/cb939/storage.webp","srcSetWebp":"/static/71a13948ce35d31b575bef9483761c34/75d10/storage.webp 236w,\n/static/71a13948ce35d31b575bef9483761c34/2a00c/storage.webp 472w,\n/static/71a13948ce35d31b575bef9483761c34/cb939/storage.webp 944w,\n/static/71a13948ce35d31b575bef9483761c34/ae4d0/storage.webp 1416w,\n/static/71a13948ce35d31b575bef9483761c34/a1ef0/storage.webp 1684w","sizes":"(max-width: 944px) 100vw, 944px"},"regular":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMEBf/EABUBAQEAAAAAAAAAAAAAAAAAAAEC/9oADAMBAAIQAxAAAAGhmayaqIQf/8QAGxAAAQQDAAAAAAAAAAAAAAAAAQACAyETMUH/2gAIAQEAAQUCbKstGWwuHf8A/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFxAAAwEAAAAAAAAAAAAAAAAAACAxQf/aAAgBAQAGPwKGL//EABkQAAMBAQEAAAAAAAAAAAAAAAABESEQMf/aAAgBAQABPyHFY093KsJNEh8Q+D//2gAMAwEAAgADAAAAEDTv/8QAFhEBAQEAAAAAAAAAAAAAAAAAAQAR/9oACAEDAQE/EBLS/8QAFxEBAQEBAAAAAAAAAAAAAAAAAQARUf/aAAgBAgEBPxBGx7f/xAAZEAEAAwEBAAAAAAAAAAAAAAABABEhQVH/2gAIAQEAAT8QEdBtdzOHdMqMKnGblibnPIRS6z//2Q==","aspectRatio":1.7541666666666667,"src":"/static/71a13948ce35d31b575bef9483761c34/d5b37/storage.jpg","srcSet":"/static/71a13948ce35d31b575bef9483761c34/6a7e4/storage.jpg 163w,\n/static/71a13948ce35d31b575bef9483761c34/7e2e7/storage.jpg 327w,\n/static/71a13948ce35d31b575bef9483761c34/d5b37/storage.jpg 653w,\n/static/71a13948ce35d31b575bef9483761c34/6aea0/storage.jpg 980w,\n/static/71a13948ce35d31b575bef9483761c34/52be0/storage.jpg 1306w,\n/static/71a13948ce35d31b575bef9483761c34/8076f/storage.jpg 1684w","srcWebp":"/static/71a13948ce35d31b575bef9483761c34/0f54f/storage.webp","srcSetWebp":"/static/71a13948ce35d31b575bef9483761c34/e2fca/storage.webp 163w,\n/static/71a13948ce35d31b575bef9483761c34/bb40c/storage.webp 327w,\n/static/71a13948ce35d31b575bef9483761c34/0f54f/storage.webp 653w,\n/static/71a13948ce35d31b575bef9483761c34/cd024/storage.webp 980w,\n/static/71a13948ce35d31b575bef9483761c34/4508c/storage.webp 1306w,\n/static/71a13948ce35d31b575bef9483761c34/a1ef0/storage.webp 1684w","sizes":"(max-width: 653px) 100vw, 653px"},"narrow":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMEBf/EABUBAQEAAAAAAAAAAAAAAAAAAAEC/9oADAMBAAIQAxAAAAGhmayaqIQf/8QAGxAAAQQDAAAAAAAAAAAAAAAAAQACAyETMUH/2gAIAQEAAQUCbKstGWwuHf8A/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFxAAAwEAAAAAAAAAAAAAAAAAACAxQf/aAAgBAQAGPwKGL//EABkQAAMBAQEAAAAAAAAAAAAAAAABESEQMf/aAAgBAQABPyHFY093KsJNEh8Q+D//2gAMAwEAAgADAAAAEDTv/8QAFhEBAQEAAAAAAAAAAAAAAAAAAQAR/9oACAEDAQE/EBLS/8QAFxEBAQEBAAAAAAAAAAAAAAAAAQARUf/aAAgBAgEBPxBGx7f/xAAZEAEAAwEBAAAAAAAAAAAAAAABABEhQVH/2gAIAQEAAT8QEdBtdzOHdMqMKnGblibnPIRS6z//2Q==","aspectRatio":1.7541666666666667,"src":"/static/71a13948ce35d31b575bef9483761c34/2924d/storage.jpg","srcSet":"/static/71a13948ce35d31b575bef9483761c34/504cd/storage.jpg 114w,\n/static/71a13948ce35d31b575bef9483761c34/beab7/storage.jpg 229w,\n/static/71a13948ce35d31b575bef9483761c34/2924d/storage.jpg 457w,\n/static/71a13948ce35d31b575bef9483761c34/85d2d/storage.jpg 686w,\n/static/71a13948ce35d31b575bef9483761c34/5e5f8/storage.jpg 914w,\n/static/71a13948ce35d31b575bef9483761c34/8076f/storage.jpg 1684w","srcWebp":"/static/71a13948ce35d31b575bef9483761c34/d4e70/storage.webp","srcSetWebp":"/static/71a13948ce35d31b575bef9483761c34/50468/storage.webp 114w,\n/static/71a13948ce35d31b575bef9483761c34/3bfb7/storage.webp 229w,\n/static/71a13948ce35d31b575bef9483761c34/d4e70/storage.webp 457w,\n/static/71a13948ce35d31b575bef9483761c34/45a20/storage.webp 686w,\n/static/71a13948ce35d31b575bef9483761c34/0af0b/storage.webp 914w,\n/static/71a13948ce35d31b575bef9483761c34/a1ef0/storage.webp 1684w","sizes":"(max-width: 457px) 100vw, 457px"},"seo":{"src":"/static/71a13948ce35d31b575bef9483761c34/86173/storage.jpg"}}},"authors":[{"authorsPage":true,"bio":"No matter how big is banana - banana peel is always bigger. Also subscribe me on youtube\nand follow me on twitter\n","id":"a5d78374-9021-5a66-afc5-b7262f2b39ff","name":"Serge","featured":true,"social":[{"url":"https://twitter.com/geekhub"},{"url":"https://github.com/geekhubdev"},{"url":"https://youtube.com/channel/UC_Nw4dIrLhxaGPwNehfaL-g"}],"slug":"/authors/serge","avatar":{"small":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAA9hAAAPYQGoP6dpAAAC4ElEQVQ4y2P4Dwb/gBAG/v799/fv3/9I4N8/dBEIYIBLAwGc8ev373t3758+fuL0iZM3bt76+u0bRAqLZqAg0OC/MP2fv3w5e/ZcQ1WNdmKuWUT89L6Jp4+ffP78OaZ+BhRrwUK5qRkxMfG5yzb47zsfue5g05L1pc0dfkHhTx4/RdOP0Azx1YGTZ+R9wg0bJzhvOhK0+0z4msPOS3ZZzl1nPGXZxE07QSGCqRlOplXU+lU0z1y7NbW+0y+nJLasJqu5o2fhCuesEue4tG9fPiNbjqQZzI9sn1hW33rn8rWty9d6VjYHTZy7ffnqWxevFpZV29R3f/ryFV0znP/769f4eWvcqruza5pjyhs8Fq7z27g/tqk7oarZr6bPbc7aU+cugOPyL4rNEP7pK9ftantj1p6wap7ovnpPyJGrIQeveG08ZNcxI2HzWecpK9qWrUP2NlTzr99/gIwTV67rV3cG7TkbsG6fW//s4LmrY1du85kwz2/1nogjV4x757au3IhFM9wbXXMW209YELD/MlC/b117dGtf2NLNfnsvuCzbkdTa//DhY3TNQPDnD8jmJ0+efP/6ZePBY8HTl/qt2Re073zg/ot+Gw8HzFkzZf32H6ihhdAM8fOJ8xdLKsu/ff8ONMs7OJRdUpZfRUPN2OzGtesQC7GnMLjlc+bMsbKzjU1MEBESVFFS0lRX5+HkPH3qFFwBuuY/f/4i54otmzdXV1UZGhq5url6eHpoa2sfPnQIp+a/YABJJ3/BKl68fq2jp29iZWvl6CyroLh5197/MCksWRKewp5++bX91e/8WWutgmIdo5I90/JNfULjWqatfvLj4tsfaJkSSTNYYv+Lb31X3/VfeFO25U7z/vs9p14UrbvWffr1xGtv59/+9P0PIiGjaIaAX3//XXr/c9OjLxNPvuk6+rrjyKveY29W3Pl47PWPdz//4nQ2Gvjx5+/773/efvv95ddfjCIECgCciNXvd9uCvQAAAABJRU5ErkJggg==","aspectRatio":1,"src":"/static/e80a9972a549670376b3016d3532d505/4f21a/geekhubico.png","srcSet":"/static/e80a9972a549670376b3016d3532d505/a3d0f/geekhubico.png 13w,\n/static/e80a9972a549670376b3016d3532d505/e280c/geekhubico.png 25w,\n/static/e80a9972a549670376b3016d3532d505/4f21a/geekhubico.png 50w,\n/static/e80a9972a549670376b3016d3532d505/28077/geekhubico.png 75w,\n/static/e80a9972a549670376b3016d3532d505/34c82/geekhubico.png 100w,\n/static/e80a9972a549670376b3016d3532d505/849c8/geekhubico.png 128w","srcWebp":"/static/e80a9972a549670376b3016d3532d505/7536e/geekhubico.webp","srcSetWebp":"/static/e80a9972a549670376b3016d3532d505/5c556/geekhubico.webp 13w,\n/static/e80a9972a549670376b3016d3532d505/3eaea/geekhubico.webp 25w,\n/static/e80a9972a549670376b3016d3532d505/7536e/geekhubico.webp 50w,\n/static/e80a9972a549670376b3016d3532d505/251f8/geekhubico.webp 75w,\n/static/e80a9972a549670376b3016d3532d505/7e254/geekhubico.webp 100w,\n/static/e80a9972a549670376b3016d3532d505/2ab7e/geekhubico.webp 128w","sizes":"(max-width: 50px) 100vw, 50px"},"medium":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAA9hAAAPYQGoP6dpAAAC4ElEQVQ4y2P4Dwb/gBAG/v799/fv3/9I4N8/dBEIYIBLAwGc8ev373t3758+fuL0iZM3bt76+u0bRAqLZqAg0OC/MP2fv3w5e/ZcQ1WNdmKuWUT89L6Jp4+ffP78OaZ+BhRrwUK5qRkxMfG5yzb47zsfue5g05L1pc0dfkHhTx4/RdOP0Azx1YGTZ+R9wg0bJzhvOhK0+0z4msPOS3ZZzl1nPGXZxE07QSGCqRlOplXU+lU0z1y7NbW+0y+nJLasJqu5o2fhCuesEue4tG9fPiNbjqQZzI9sn1hW33rn8rWty9d6VjYHTZy7ffnqWxevFpZV29R3f/ryFV0znP/769f4eWvcqruza5pjyhs8Fq7z27g/tqk7oarZr6bPbc7aU+cugOPyL4rNEP7pK9ftantj1p6wap7ovnpPyJGrIQeveG08ZNcxI2HzWecpK9qWrUP2NlTzr99/gIwTV67rV3cG7TkbsG6fW//s4LmrY1du85kwz2/1nogjV4x757au3IhFM9wbXXMW209YELD/MlC/b117dGtf2NLNfnsvuCzbkdTa//DhY3TNQPDnD8jmJ0+efP/6ZePBY8HTl/qt2Re073zg/ot+Gw8HzFkzZf32H6ihhdAM8fOJ8xdLKsu/ff8ONMs7OJRdUpZfRUPN2OzGtesQC7GnMLjlc+bMsbKzjU1MEBESVFFS0lRX5+HkPH3qFFwBuuY/f/4i54otmzdXV1UZGhq5url6eHpoa2sfPnQIp+a/YABJJ3/BKl68fq2jp29iZWvl6CyroLh5197/MCksWRKewp5++bX91e/8WWutgmIdo5I90/JNfULjWqatfvLj4tsfaJkSSTNYYv+Lb31X3/VfeFO25U7z/vs9p14UrbvWffr1xGtv59/+9P0PIiGjaIaAX3//XXr/c9OjLxNPvuk6+rrjyKveY29W3Pl47PWPdz//4nQ2Gvjx5+/773/efvv95ddfjCIECgCciNXvd9uCvQAAAABJRU5ErkJggg==","aspectRatio":1,"src":"/static/e80a9972a549670376b3016d3532d505/34c82/geekhubico.png","srcSet":"/static/e80a9972a549670376b3016d3532d505/e280c/geekhubico.png 25w,\n/static/e80a9972a549670376b3016d3532d505/4f21a/geekhubico.png 50w,\n/static/e80a9972a549670376b3016d3532d505/34c82/geekhubico.png 100w,\n/static/e80a9972a549670376b3016d3532d505/849c8/geekhubico.png 128w","srcWebp":"/static/e80a9972a549670376b3016d3532d505/7e254/geekhubico.webp","srcSetWebp":"/static/e80a9972a549670376b3016d3532d505/3eaea/geekhubico.webp 25w,\n/static/e80a9972a549670376b3016d3532d505/7536e/geekhubico.webp 50w,\n/static/e80a9972a549670376b3016d3532d505/7e254/geekhubico.webp 100w,\n/static/e80a9972a549670376b3016d3532d505/2ab7e/geekhubico.webp 128w","sizes":"(max-width: 100px) 100vw, 100px"},"large":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAA9hAAAPYQGoP6dpAAAC4ElEQVQ4y2P4Dwb/gBAG/v799/fv3/9I4N8/dBEIYIBLAwGc8ev373t3758+fuL0iZM3bt76+u0bRAqLZqAg0OC/MP2fv3w5e/ZcQ1WNdmKuWUT89L6Jp4+ffP78OaZ+BhRrwUK5qRkxMfG5yzb47zsfue5g05L1pc0dfkHhTx4/RdOP0Azx1YGTZ+R9wg0bJzhvOhK0+0z4msPOS3ZZzl1nPGXZxE07QSGCqRlOplXU+lU0z1y7NbW+0y+nJLasJqu5o2fhCuesEue4tG9fPiNbjqQZzI9sn1hW33rn8rWty9d6VjYHTZy7ffnqWxevFpZV29R3f/ryFV0znP/769f4eWvcqruza5pjyhs8Fq7z27g/tqk7oarZr6bPbc7aU+cugOPyL4rNEP7pK9ftantj1p6wap7ovnpPyJGrIQeveG08ZNcxI2HzWecpK9qWrUP2NlTzr99/gIwTV67rV3cG7TkbsG6fW//s4LmrY1du85kwz2/1nogjV4x757au3IhFM9wbXXMW209YELD/MlC/b117dGtf2NLNfnsvuCzbkdTa//DhY3TNQPDnD8jmJ0+efP/6ZePBY8HTl/qt2Re073zg/ot+Gw8HzFkzZf32H6ihhdAM8fOJ8xdLKsu/ff8ONMs7OJRdUpZfRUPN2OzGtesQC7GnMLjlc+bMsbKzjU1MEBESVFFS0lRX5+HkPH3qFFwBuuY/f/4i54otmzdXV1UZGhq5url6eHpoa2sfPnQIp+a/YABJJ3/BKl68fq2jp29iZWvl6CyroLh5197/MCksWRKewp5++bX91e/8WWutgmIdo5I90/JNfULjWqatfvLj4tsfaJkSSTNYYv+Lb31X3/VfeFO25U7z/vs9p14UrbvWffr1xGtv59/+9P0PIiGjaIaAX3//XXr/c9OjLxNPvuk6+rrjyKveY29W3Pl47PWPdz//4nQ2Gvjx5+/773/efvv95ddfjCIECgCciNXvd9uCvQAAAABJRU5ErkJggg==","aspectRatio":1,"src":"/static/e80a9972a549670376b3016d3532d505/849c8/geekhubico.png","srcSet":"/static/e80a9972a549670376b3016d3532d505/4607e/geekhubico.png 82w,\n/static/e80a9972a549670376b3016d3532d505/849c8/geekhubico.png 128w","srcWebp":"/static/e80a9972a549670376b3016d3532d505/2ab7e/geekhubico.webp","srcSetWebp":"/static/e80a9972a549670376b3016d3532d505/e71fc/geekhubico.webp 82w,\n/static/e80a9972a549670376b3016d3532d505/2ab7e/geekhubico.webp 128w","sizes":"(max-width: 128px) 100vw, 128px"}}}],"basePath":"/","slug":"/diy-storage-fundamentals","id":"cbab656b-fbd8-5465-86d0-12b49cdc89ee","title":"DIY Storage: Fundamentals","mailchimp":true,"next":[{"id":"c48bc5e4-338e-5f68-91ec-e73f3b10de42","slug":"/do-it-yourself-introduction","secret":false,"title":"Do It Yourself: Introduction","author":"Serge","date":"November 9th, 2019","dateForSEO":"2019-11-09T00:00:00.000Z","timeToRead":4,"excerpt":"When looking around for available \"learn to code\" materials, I cannot help but remember this: There are millions of posts and videos which…","subscription":true,"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Do It Yourself: Introduction\",\n  \"author\": \"Serge\",\n  \"date\": \"2019-11-09T00:00:00.000Z\",\n  \"hero\": \"./leonardo.jpeg\",\n  \"tags\": [\"from scratch\"]\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"When looking around for available \\u201Clearn to code\\u201D materials, I cannot help but remember this:\"), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"500px\"\n    }\n  }), \"\\n      \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"81.4%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAQABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAwABBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAe6LmJZH/8QAGhAAAgIDAAAAAAAAAAAAAAAAAAECAxEhMf/aAAgBAQABBQIsyLaJC5//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAWEAEBAQAAAAAAAAAAAAAAAAAQIQD/2gAIAQEABj8C0Yf/xAAcEAADAQACAwAAAAAAAAAAAAAAAREhMUFRYXH/2gAIAQEAAT8hm8G+5ENBrtGeS9bX0fA//9oADAMBAAIAAwAAABCgD//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABwQAAICAgMAAAAAAAAAAAAAAAERADEhQWGhwf/aAAgBAQABPxBAyJ3CWb1dvXUHTgERskzzAABDG3kcAFiFgz//2Q==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"picture\", {\n    parentName: \"span\"\n  }, \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/573e3a73bcda57aad0d6575b60d4e4a7/f452f/draw-an-owl.webp 500w\"],\n    \"sizes\": \"(max-width: 500px) 100vw, 500px\",\n    \"type\": \"image/webp\"\n  })), \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/573e3a73bcda57aad0d6575b60d4e4a7/bf9cf/draw-an-owl.jpg 500w\"],\n    \"sizes\": \"(max-width: 500px) 100vw, 500px\",\n    \"type\": \"image/jpeg\"\n  })), \"\\n        \", mdx(\"img\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"src\": \"/static/573e3a73bcda57aad0d6575b60d4e4a7/bf9cf/draw-an-owl.jpg\",\n    \"alt\": \"draw an owl\",\n    \"title\": \"draw an owl\",\n    \"loading\": \"lazy\"\n  })), \"\\n      \"), \"\\n    \")), mdx(\"p\", null, \"There are millions of posts and videos which explain what the linked list is and how to find loops in it with constant storage. There also seem to be enough pro-grade\\nmaterial (conference talks, tons of open source code of varying quality, even peers at work \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"after\"), \" you\\u2019ve got to a \\u201Chirable\\u201D level). And between these two \\u2014 The Void.\\nApparently, I\\u2019m not the only one who noticed this. There is a \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.thinkful.com/blog/why-learning-to-code-is-so-damn-hard/\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }), \"great article\"), \" that goes into\\ndeep details about this. Here\\u2019s an illustration from it that shows this phenomenon:\"), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"1000px\"\n    }\n  }), \"\\n      \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"104%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAIAAADJt1n/AAAACXBIWXMAAAsTAAALEwEAmpwYAAABmElEQVQ4y6VU7W6CMBT1/V/Ad1lmshfYrxmUKbiBijA+Wygt5WPH1jCGJEa9IdXSe+4596PMuidspn+apqnrum1b/GeMbbdb27YdZZZlbTYbKeU0GAdJkqRpihDYIkRZlgiBtaoqrEVR6KMJcM/5iGwtCeEJIddRGmX9Fg799sKMPUIMnFr1nOPGcYy4QzD8/4HhpMWnScKF6F1rZRqjRWmaMbPWw7hoZdVx1tWyPxpmMWaGquVy6e73JE1J4BdJTH2vIBkTAlWglOZ5nihDCvFPIEv2B/Z9fz6fvy4WX7udvTIOn+vDxgzc78B1XMdxXSyOYRjr1epjbVpvL43x3jF6AaOlpmkej0eQkDw/N7nIOck4zXJKzw1nDFOQKUujUAo+0WdMWRSGEDksGOe8T3IiZ11qOIETDAALFFyFk1UF2Z7nRVGEaesHecwMGJJHhYY8cMV7XTahWjgG674hN4QPw1AM+nxt4wnTYwSbvDo3ZhvJICtwTl6dG2DoPJ1OqNaDtwrZQvawVHd8SUCOVt17q2fPfMN+AY42zXAoGCTEAAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"picture\", {\n    parentName: \"span\"\n  }, \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/a9102039e4d42e48b10823b4dfd5d9bf/cc0b3/resource_density.webp 1000w\"],\n    \"sizes\": \"(max-width: 1000px) 100vw, 1000px\",\n    \"type\": \"image/webp\"\n  })), \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/a9102039e4d42e48b10823b4dfd5d9bf/5d442/resource_density.png 1000w\"],\n    \"sizes\": \"(max-width: 1000px) 100vw, 1000px\",\n    \"type\": \"image/png\"\n  })), \"\\n        \", mdx(\"img\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"src\": \"/static/a9102039e4d42e48b10823b4dfd5d9bf/5d442/resource_density.png\",\n    \"alt\": \"resource density\",\n    \"title\": \"resource density\",\n    \"loading\": \"lazy\"\n  })), \"\\n      \"), \"\\n    \")), mdx(\"p\", null, \"Author introduces a notion of \\u201Cdesert of despair\\u201D - the moment when all low hanging fruits are already picked and you are a world class linked-list reverser, but\\nanything beyond that is cryptic, unapproachable and confusing. This is due to a fact that scope of the required knowledge increases rapidly while amount of learning\\nmaterial and guidance as rapidly approaches zero. What few materials that are present often lack perspective: concentrating on concrete steps in very specific scenarios\\ninstead of teaching interconnected mesh of concepts, in other words prioritizing mindless memorization over understanding.\"), mdx(\"p\", null, \"Here\\u2019s a concrete example: \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://web.piyushgarg.in/2018/09/simplified-breadth-first-search-given.html\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }), \"Simplified breadth-first search\"), \" is one of two external\\nlinks on the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://en.wikipedia.org/wiki/Breadth-first_search\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }), \"wikipedia\\u2019s BFS page\"), \". This is what \\u201Csimplified\\u201D apparently means these days:\"), mdx(\"blockquote\", {\n    \"long\": true\n  }, mdx(\"p\", null, \"Given a graph G = (V, E) and a distinguished source vertex s, breadth-first search systematically explores the edges of G to \\u201Cdiscover\\u201D every vertex that is\\nreachable from s. It computes the distance (smallest number of edges) from s to each reachable vertex. It also produces a \\u201Cbreadth-first tree\\u201D with root s that\\ncontains all reachable vertices. For any vertex reachable from s, the simple path in the breadth-first tree from s to corresponds to a \\u201Cshortest path\\u201D from s to\\nv in G, that is, a path containing the smallest number of edges. The algorithm works on both directed and undirected graphs.\")), mdx(\"p\", null, \"Plus, some python code and an animation:\\n\", mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"/static/28065b90e1b146b993a24cd7e9a7f6bc/Graph-BFS.gif\",\n    \"alt\": null\n  }))), mdx(\"p\", null, \"I\\u2019m not trying to point fingers - I\\u2019m fully aware that some of my own ramblings are as bad as these. And these aren\\u2019t bad because they are\\nfactually incorrect - on the contrary, it even mentions spanning tree within a graph, that is often missed. It\\u2019s just I cannot figure out target audience for that\\narticle. Anyone who has enough fluency in the lingo to understand the \\u201Csimplified\\u201D description already knows graph theory fundamentals, for the rest it has same\\nvalue as if it was written in a foreign language. What does \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"0\\u27F62\\u27F61\\u27F63\\u27F64\\u27F65\"), \" have to do with \\u201Cbreadth\\u201D as opposed to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"0\\u27F62\\u27F63\\u27F64\\u27F61\\u27F65\"), \" which is obviously\\n\\u201Cdepth-first\\u201D? Why \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"2\"), \" is visited before \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"1\"), \"? What happens in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Step 1\"), \"? While all these questions have reasonably logical answers, it\\u2019s not a level of clarity I\\u2019d\\nlike to see anywhere let alone in a \\u201Csimplified\\u201D learning materials.\"), mdx(\"p\", null, \"Another great example of clarity being slaughtered by ruthless engineers is CAP-consistency vs ACID-consistency. CAP stands for \\u201Cconsistency, availability, partition\\ntolerance\\u201D, while ACID is \\u201Catomicity, consistency, isolation, durability\\u201D. Both abbreviations reflect really important ideas within same domain - data storage. One\\nwould expect that since \\u201Cconsistency\\u201D appears in both of them and is used in the same domain it would be consistent if these two actually meant the same thing. One would be\\n\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://en.wikipedia.org/wiki/Consistency_(database_systems)\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }), \"wrong\"), \". \"), mdx(\"p\", null, \"And here\\u2019s one from my personal experience. A little while back I\\u2019ve been fooling around with \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://kafka.apache.org\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }), \"Apache Kafka\"), \" and at one point I needed to know the\\nanswer to a simple question: does Kafka guarantee a total ordering of events inside a topic? If you think that I\\u2019m stupid to even ask such a question - obviously there\\u2019s\\nno total ordering between shards/partitions in a distributed system, think again: Facebook\\u2019s \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://engineering.fb.com/core-data/logdevice-a-distributed-data-store-for-logs/\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }), \"LogDevice\"), \"\\n(in which \\u201Crecords\\u201D are roughly equivalent to \\u201Cevents\\u201D in Kafka, and \\u201Clogs\\u201D are similar to Kafka\\u2019s \\u201Ctopics\\u201D) provides such guarantees and more per \\u201Clog\\u201D while still maintaining pretty\\nimpressive scalability. Clearly, it\\u2019s a design decision and I just wanted to know what decision Kafka\\u2019s developers made. Also, if you think that I\\u2019m stupid because after 70 years of\\nexperience with production Kafka deployments the answer is intuitive to you \\u2014 it\\u2019s not good either: sometimes \\u201Cyou have to know X in order to learn X\\u201D doesn\\u2019t cut it.\"), mdx(\"p\", null, \"It took me several days to figure it out (on and off \\u2014 I\\u2019ve done it in my spare time while also using that spare time for other things).\\nKafka\\u2019s \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://kafka.apache.org/documentation/#design\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }), \"design docs\"), \" don\\u2019t shed any light on it, I hoped that since\\nKafka Streams are layered on top of actual Kafka some docs \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://kafka.apache.org/documentation/streams/architecture\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }), \"over there\"), \" may give some hints \\u2014 but no luck.\\nDidn\\u2019t find anything on stackoverflow. So I had to watch over a dozen 1-2 hour presentations on youtube until one video (and I don\\u2019t even remember which one)\\nanswered my question in passing. Meanwhile I\\u2019ve been barraged with all kinds of non-interconnected information: which command line switches to use in a dozen\\nspecific situations without really explaining why, fact that you need to configure X partitions but not Y - without explaining why, the fact that number of consumer\\ngroups should not exceed number of partitions (I think this \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"was\"), \" explained couple times \\u2014 but majority of talks didn\\u2019t even try). I understand the challenge\\nof packing as much digestible information as possible into 1 hour talk and I don\\u2019t blame any of the presenters (most of them are simply awesome). But the problem\\nremains - how do I \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"understand\"), \" something as big as Kafka (or Cassandra, or various blockchain technologies, or all the machine learning hype, or search engines,\\nor compression technologies, or, or, or) without spending \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"years\"), \" diving deep into each one? Well, let me borrow the quote\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"What I cannot create, I do not understand\"), mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"\\u2014 Richard Feynman\")), mdx(\"p\", null, \"\\u2026and put it upside down: in order to understand something, let\\u2019s create it. My goal here is to recreate various pieces of tech as close to the original design\\nas possible, while focusing on a primary goal \\u2014 readability. All optimizations, corner-case scenarios, compatibility and even graceful error-handling (as long as\\nI don\\u2019t write \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"specifically\"), \" about error handling) is a \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://en.wikipedia.org/wiki/No_Silver_Bullet\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }), \"\\u201Cnon-essential complexity\\u201D\"), \" for me and I will try to remove\\nit to the best of my ability.\"), mdx(\"p\", null, \"In other words, looping back to the start of this post - the owl drawing. I don\\u2019t target photorealism, but I also want owl to be recognizable more than just \\u201Csome\\ncircles\\u201D. Something like this:\"), mdx(\"p\", null, mdx(Owl, {\n    mdxType: \"Owl\"\n  })));\n}\n;\nMDXContent.isMDXComponent = true;","hero":{"full":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIDBf/EABcBAAMBAAAAAAAAAAAAAAAAAAABAgP/2gAMAwEAAhADEAAAAddarjcygP8A/8QAFhABAQEAAAAAAAAAAAAAAAAAAQAg/9oACAEBAAEFAiFz/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFhAAAwAAAAAAAAAAAAAAAAAAACAh/9oACAEBAAY/Air/AP/EABsQAAMAAgMAAAAAAAAAAAAAAAABESFBEGGR/9oACAEBAAE/IWcyOrFXoru/DXDP/9oADAMBAAIAAwAAABBfL//EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAEDAQE/EKr/xAAWEQEBAQAAAAAAAAAAAAAAAAAAARH/2gAIAQIBAT8QsY//xAAcEAACAQUBAAAAAAAAAAAAAAAAAREhMUFhcYH/2gAIAQEAAT8QSoOdqBggYSkaGr5mZ8FdcLj/2Q==","aspectRatio":1.7679558011049723,"src":"/static/16ff9a7852aadca47e56814758710ecb/3db47/leonardo.jpg","srcSet":"/static/16ff9a7852aadca47e56814758710ecb/751b5/leonardo.jpg 236w,\n/static/16ff9a7852aadca47e56814758710ecb/b976c/leonardo.jpg 472w,\n/static/16ff9a7852aadca47e56814758710ecb/3db47/leonardo.jpg 944w,\n/static/16ff9a7852aadca47e56814758710ecb/e3107/leonardo.jpg 1280w","srcWebp":"/static/16ff9a7852aadca47e56814758710ecb/cb939/leonardo.webp","srcSetWebp":"/static/16ff9a7852aadca47e56814758710ecb/75d10/leonardo.webp 236w,\n/static/16ff9a7852aadca47e56814758710ecb/2a00c/leonardo.webp 472w,\n/static/16ff9a7852aadca47e56814758710ecb/cb939/leonardo.webp 944w,\n/static/16ff9a7852aadca47e56814758710ecb/80f20/leonardo.webp 1280w","sizes":"(max-width: 944px) 100vw, 944px"},"regular":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIDBf/EABcBAAMBAAAAAAAAAAAAAAAAAAABAgP/2gAMAwEAAhADEAAAAddarjcygP8A/8QAFhABAQEAAAAAAAAAAAAAAAAAAQAg/9oACAEBAAEFAiFz/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFhAAAwAAAAAAAAAAAAAAAAAAACAh/9oACAEBAAY/Air/AP/EABsQAAMAAgMAAAAAAAAAAAAAAAABESFBEGGR/9oACAEBAAE/IWcyOrFXoru/DXDP/9oADAMBAAIAAwAAABBfL//EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAEDAQE/EKr/xAAWEQEBAQAAAAAAAAAAAAAAAAAAARH/2gAIAQIBAT8QsY//xAAcEAACAQUBAAAAAAAAAAAAAAAAAREhMUFhcYH/2gAIAQEAAT8QSoOdqBggYSkaGr5mZ8FdcLj/2Q==","aspectRatio":1.7679558011049723,"src":"/static/16ff9a7852aadca47e56814758710ecb/d5b37/leonardo.jpg","srcSet":"/static/16ff9a7852aadca47e56814758710ecb/6a7e4/leonardo.jpg 163w,\n/static/16ff9a7852aadca47e56814758710ecb/7e2e7/leonardo.jpg 327w,\n/static/16ff9a7852aadca47e56814758710ecb/d5b37/leonardo.jpg 653w,\n/static/16ff9a7852aadca47e56814758710ecb/6aea0/leonardo.jpg 980w,\n/static/16ff9a7852aadca47e56814758710ecb/e3107/leonardo.jpg 1280w","srcWebp":"/static/16ff9a7852aadca47e56814758710ecb/0f54f/leonardo.webp","srcSetWebp":"/static/16ff9a7852aadca47e56814758710ecb/e2fca/leonardo.webp 163w,\n/static/16ff9a7852aadca47e56814758710ecb/bb40c/leonardo.webp 327w,\n/static/16ff9a7852aadca47e56814758710ecb/0f54f/leonardo.webp 653w,\n/static/16ff9a7852aadca47e56814758710ecb/cd024/leonardo.webp 980w,\n/static/16ff9a7852aadca47e56814758710ecb/80f20/leonardo.webp 1280w","sizes":"(max-width: 653px) 100vw, 653px"},"narrow":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIDBf/EABcBAAMBAAAAAAAAAAAAAAAAAAABAgP/2gAMAwEAAhADEAAAAddarjcygP8A/8QAFhABAQEAAAAAAAAAAAAAAAAAAQAg/9oACAEBAAEFAiFz/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFhAAAwAAAAAAAAAAAAAAAAAAACAh/9oACAEBAAY/Air/AP/EABsQAAMAAgMAAAAAAAAAAAAAAAABESFBEGGR/9oACAEBAAE/IWcyOrFXoru/DXDP/9oADAMBAAIAAwAAABBfL//EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAEDAQE/EKr/xAAWEQEBAQAAAAAAAAAAAAAAAAAAARH/2gAIAQIBAT8QsY//xAAcEAACAQUBAAAAAAAAAAAAAAAAAREhMUFhcYH/2gAIAQEAAT8QSoOdqBggYSkaGr5mZ8FdcLj/2Q==","aspectRatio":1.7679558011049723,"src":"/static/16ff9a7852aadca47e56814758710ecb/2924d/leonardo.jpg","srcSet":"/static/16ff9a7852aadca47e56814758710ecb/504cd/leonardo.jpg 114w,\n/static/16ff9a7852aadca47e56814758710ecb/beab7/leonardo.jpg 229w,\n/static/16ff9a7852aadca47e56814758710ecb/2924d/leonardo.jpg 457w,\n/static/16ff9a7852aadca47e56814758710ecb/85d2d/leonardo.jpg 686w,\n/static/16ff9a7852aadca47e56814758710ecb/5e5f8/leonardo.jpg 914w,\n/static/16ff9a7852aadca47e56814758710ecb/e3107/leonardo.jpg 1280w","srcWebp":"/static/16ff9a7852aadca47e56814758710ecb/d4e70/leonardo.webp","srcSetWebp":"/static/16ff9a7852aadca47e56814758710ecb/50468/leonardo.webp 114w,\n/static/16ff9a7852aadca47e56814758710ecb/3bfb7/leonardo.webp 229w,\n/static/16ff9a7852aadca47e56814758710ecb/d4e70/leonardo.webp 457w,\n/static/16ff9a7852aadca47e56814758710ecb/45a20/leonardo.webp 686w,\n/static/16ff9a7852aadca47e56814758710ecb/0af0b/leonardo.webp 914w,\n/static/16ff9a7852aadca47e56814758710ecb/80f20/leonardo.webp 1280w","sizes":"(max-width: 457px) 100vw, 457px"},"seo":{"src":"/static/16ff9a7852aadca47e56814758710ecb/86173/leonardo.jpg"}}},{"id":"4d39c925-ebae-5337-9fd5-dec6f9946991","slug":"/sector-f7-math-and-self-limiting-beliefs","secret":false,"title":"Sector f7, math and self-limiting beliefs","author":"Serge","date":"October 14th, 2019","dateForSEO":"2019-10-14T00:00:00.000Z","timeToRead":4,"excerpt":"One of the lesser known real stories that seem too good to be true is a story of  George Dantzig , who\nsolved \"unsolvable\" mathematical…","subscription":true,"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Sector f7, math and self-limiting beliefs\",\n  \"author\": \"Serge\",\n  \"date\": \"2019-10-14T00:00:00.000Z\",\n  \"hero\": \"./limits.jpg\",\n  \"tags\": [\"story\", \"life, the universe and everything\"]\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"One of the lesser known real stories that seem too good to be true is a story of \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.snopes.com/fact-check/the-unsolvable-math-problem/\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }), \"George Dantzig\"), \", who\\nsolved \\u201Cunsolvable\\u201D mathematical problems just because he didn\\u2019t know they are \\u201Cunsolvable\\u201D:\"), mdx(\"blockquote\", {\n    \"long\": true\n  }, mdx(\"p\", null, \"It happened because during my first year at Berkeley I arrived late one day at one of \", \"[Jerzy]\", \" Neyman\\u2019s classes. On the blackboard there were two problems that I\\nassumed had been assigned for homework. I copied them down. A few days later I apologized to Neyman for taking so long to do the homework \\u2014 the problems seemed to be\\na little harder than usual. I asked him if he still wanted it. He told me to throw it on his desk. I did so reluctantly because his desk was covered with such a heap\\nof papers that I feared my homework would be lost there forever. About six weeks later, one Sunday morning about eight o\\u2019clock, \", \"[my wife]\", \" Anne and I were awakened by\\nsomeone banging on our front door. It was Neyman. He rushed in with papers in hand, all excited: \\u201CI\\u2019ve just written an introduction to one of your papers. Read it so\\nI can send it out right away for publication.\\u201D For a minute I had no idea what he was talking about. To make a long story short, the problems on the blackboard that I\\nhad solved thinking they were homework were in fact two famous unsolved problems in statistics. That was the first inkling I had that there was anything special about\\nthem.\"), mdx(\"p\", null, \"A year later, when I began to worry about a thesis topic, Neyman just shrugged and told me to wrap the two problems in a binder and he would accept them as my thesis.\"), mdx(\"p\", null, \"The second of the two problems, however, was not published until after World War II. It happened this way. Around 1950 I received a letter from Abraham Wald enclosing\\nthe final galley proofs of a paper of his about to go to press in the \", mdx(\"b\", null, \"Annals of Mathematical Statistics.\"), \" Someone had just pointed out to him that the main\\nresult in his paper was the same as the second \\u201Chomework\\u201D problem solved in my thesis. I wrote back suggesting we publish jointly. He simply inserted my name as\\ncoauthor into the galley proof.\")), mdx(\"p\", null, \"I remember first time, when I realized that doing \\u201Cimpossible\\u201D things are sometimes easier than it looks. It\\u2019s not quite as impressive as the story above, but\\nit taught me a lesson and therefore it\\u2019s valuable.\"), mdx(\"p\", null, \"My first computer didn\\u2019t have a disk drive at all. Second one\\u2026 didn\\u2019t have it either. Third one was a \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://en.wikipedia.org/wiki/Pentagon_(computer)\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }), \"soviet clone\"), \"\\nof ZX-Spectrum, that had a 5.25\\u201D floppy disk drive controlled by a \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://ru.wikipedia.org/wiki/%D0%9A%D0%A01818%D0%92%D0%9393\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }), \"soviet clone\"), \" of a\\n\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://en.wikipedia.org/wiki/Western_Digital_FD1771\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }), \"FD1793\"), \" disk controller. Before you can use any disk it should have been \\u201Cformatted\\u201D. On a controller level\\nit has been achieved by writing \\u201Cwrite track\\u201D command into a command register and then writing \\u201Cmarkup\\u201D for the entire track into a data register as described\\n\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://www.roust-it.dk/coco/wd179x_command.pdf\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }), \"here\"), \". Below is a summary:\"), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"449px\"\n    }\n  }), \"\\n      \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"115.14476614699332%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAYAAAALHW+jAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACsUlEQVQ4y5VVaXPaMBD1//9XpTOdJBBMCTTtkJRCGGNz+L7wtd23Ro7M8SGa2ZElrZ7enjZef81pOBzS89ik0WhI3wff6MfDI5njMZnPIxqb2OeZz58eH0R3sVjw/ESDwYCSNCWMpmlkNvIsozSFpCJRFFEQBBTHMeV5LuJ7Hu33e3Jdlzz+xnkYhqJT13UfkLrR0G63pyRJWnB+CCOOIwFyHIeCMCB7u2W9nawzfkwHE0AsIFVV0fF4JH3UvGdZlgB4ni8P4cHT6UQZP1hVn+xuMCQxJ0niznyMjGcAAhimwnSsNx8fV/4TQJgDZvAJAH0/kDX2wQZ+AjuA+XLui58Vq0sxXqZTeuZomuaEZrMZLd7eaD6f08v0J61WK/rz+7XLgslkIoIo3xtGnmfyIvwCwXdRFOyjVNglSfoZtqbmvUQiD/bQhWugF7GFiIPRHqaiBN9AAcBYw/EQlRoxAzjOTtZlWYoe5vysj/0uKE1dy0u3hnI6zg+Hg/gT/gbDyzsdIOjCHD0NdMFI2UzP9SRgAHbdNni9oORiVmseDk+n4iq31AwTUVX3LEBxGCUHAMu6roR+e9bcBESgkFYqEJhBpld6Bb/anE3OtVLSclXzYSQJbnPZrf4t6f39L+3ZdOQn8lgAO4YCeLoy95LhZrORy+v1+qpUxYdfYZiwmUj27dai5XJJa/4+nitKpVaPYXbuMHcZss+QLhDHtrn7hGTzbFnbjoxRaEFBlOuLQPQYcuNwGUw6ETPSdbo8LDSGoH4J1guKVIojHUd1HZBAtSDimLW0qcXZeOBWciuTERSYHEexVAxEujx3IdztgoLSQ2tSzr3FECbbtiPdXLW3KAo5bfyOiNH+N9riRrLiABEHfYj+z4BOWVZ3W5ekDS4oUZcADPNhjnoZ4KoR3GuuGP8BYCv3O3ixlWUAAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"picture\", {\n    parentName: \"span\"\n  }, \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/43085be2981ea6a18a97973feee8e738/07e17/writetrack.webp 449w\"],\n    \"sizes\": \"(max-width: 449px) 100vw, 449px\",\n    \"type\": \"image/webp\"\n  })), \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/43085be2981ea6a18a97973feee8e738/a83e7/writetrack.png 449w\"],\n    \"sizes\": \"(max-width: 449px) 100vw, 449px\",\n    \"type\": \"image/png\"\n  })), \"\\n        \", mdx(\"img\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"src\": \"/static/43085be2981ea6a18a97973feee8e738/a83e7/writetrack.png\",\n    \"alt\": \"writetrack\",\n    \"title\": \"writetrack\",\n    \"loading\": \"lazy\"\n  })), \"\\n      \"), \"\\n    \")), mdx(\"p\", null, \"When controller receives values \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"00-f4\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"f8-ff\"), \" it just writes them down to a disk as is, byte values \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"f5-f7\"), \" had special meaning. It\\u2019s somewhat similar to C-style\\nprintf format string in which most symbols are just printed as is, except for \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"\\\\\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"%\"), \" which have special meaning. In this case 3 \", \"*\", \" \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"f5\"), \" indicate beginning\\nof either an index (or header) block which contains metadata (track/side/sector numbers) or a data block, which contains, well, user data itself. Sending \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"f7\"), \"\\nindicates end of header or data block and writes down a 16-bit CRC checksum to verify integrity. So, since one needed to write down a sector number while writing a\\n\\u201Cheader\\u201D block and controller has a special treatment for bytes \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"f5-f7\"), \", it\\u2019s been common knowledge that it is impossible to have sectors with those numbers. In fact,\\n\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://www.roust-it.dk/coco/wd179x_command.pdf\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }), \"datasheet\"), \" clearly states:\"), mdx(\"blockquote\", {\n    \"long\": true\n  }, mdx(\"p\", null, \"However, if the FD179X detects a data pattern of F5 thru FE in the data register, this is interpreted as data\\naddress marks with missing clocks or CRC generation. The CRC generator is initialized when an F5 data byte is about to be transferred (in MFM). An F7 pattern\\nwill generate two CRC bytes. As a consequence, the patterns F5 thru FE \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"must not appear\"), \" in the gaps, data fiels, or ID fiels.\")), mdx(\"p\", null, \"ImagineMyShock\\u2122 when I\\u2019ve seen a software that creates those sectors casually as if nothing happened. Once I\\u2019ve realized that it\\u2019s not only possible but it\\u2019s already\\nbeen done by someone else, it took me entire 10 seconds of thinking to figure out how exactly they have done it: manipulate data prior to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"f7\"), \" in such a way that two\\nbytes of CRC are exactly what you want to be written (in this case \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"f7 01\"), \") - then just send \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"f7\"), \" (write this 2 byte checksum) and finish by manually writing what\\nshould be a real CRC at this point.\"), mdx(\"p\", null, \"In my experience, best way to deal with \\u201Cunsolvable\\u201D problems is to try to get as close to solution as possible - in many cases \\u201Cclose enough\\u201D is well within your\\nreach even if perfection is unattainable. In some cases, just by aiming for \\u201Cgood enough\\u201D you may overshoot and score perfection (that doesn\\u2019t happen all that\\noften though). Just to demonstrate what I mean, here\\u2019re some of mathematically proven \\u201Cimpossible to solve\\u201D (at least within reasonable time) problems:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Optimizing compilers: \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://en.wikipedia.org/wiki/Register_allocation\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }), \"register allocation\"), \" could be reduced to graph coloring problem which is NP-hard.\\nC++ type system is Turing-complete, which means typechecking in C++ is equivalent to \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://en.wikipedia.org/wiki/Halting_problem\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }), \"halting problem\"), \". It\\u2019s not because\\nC++ is \\u201Cbad\\u201D, hipster languages like ML-family (ocaml, F#) and Haskell use \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://en.wikipedia.org/wiki/Hindley%E2%80%93Milner_type_system\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }), \"EXPTIME-complete\"), \" one\\nwhich is not that much better in practice. \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://en.wikipedia.org/wiki/Data-flow_analysis\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }), \"Data-flow analysis\"), \" in general is also equivalent to a halting problem,\\noptimal code generation is exptime and so on. Yet, entire industry relies on those problems being solved \\u201Cwell enough\\u201D.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Games: from exptime-complete Chess and Go to even Candy Crush \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://arxiv.org/abs/1403.5830\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }), \"being\"), \" np-hard. And those are easy ones - perfect information,\\nreasonable amount of possible positions - for \\u201Chard\\u201D ones like Dota, Starcraft or Diablo I\\u2019m not aware of any formalism to even exist. Yet, not only humans like to\\nsolve those problems for entertainment - they even taught computers to do so.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"VM/container orchestration (assigning VMs and/or containers to physical hosts) is \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://en.wikipedia.org/wiki/Bin_packing_problem\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }), \"NP-hard\"), \". Didn\\u2019t get in a way\\nof AWS/Azure/GCP.\")), mdx(\"p\", null, \"\\u2026and so on. Don\\u2019t get me wrong: there are cases where the only acceptable solution is the \\u201Cperfect\\u201D one (\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://en.wikipedia.org/wiki/EmDrive\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }), \"your engine\"), \"\\neither conserves momentum or it doesn\\u2019t in which case you are just one of many), but in software engineering specifically it is rarely the case. Here we have many\\nvalid reason to not spend time on a project - that project being \\u201Cimpossible\\u201D is not one of them.\"));\n}\n;\nMDXContent.isMDXComponent = true;","hero":{"full":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAECBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAeEwKg//xAAXEAADAQAAAAAAAAAAAAAAAAAAASBB/9oACAEBAAEFAsHH/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQAGPwJf/8QAGxAAAgEFAAAAAAAAAAAAAAAAAAERIDFRYXH/2gAIAQEAAT8hnAhPXS6j/9oADAMBAAIAAwAAABDwD//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABsQAQEAAgMBAAAAAAAAAAAAAAERACEQQVFx/9oACAEBAAE/EAotATNBJXYyDRH5lZLrzK8f/9k=","aspectRatio":1.7777777777777777,"src":"/static/e8855faea34fa12a992b7cbc6000ed4e/3db47/limits.jpg","srcSet":"/static/e8855faea34fa12a992b7cbc6000ed4e/751b5/limits.jpg 236w,\n/static/e8855faea34fa12a992b7cbc6000ed4e/b976c/limits.jpg 472w,\n/static/e8855faea34fa12a992b7cbc6000ed4e/3db47/limits.jpg 944w,\n/static/e8855faea34fa12a992b7cbc6000ed4e/e3107/limits.jpg 1280w","srcWebp":"/static/e8855faea34fa12a992b7cbc6000ed4e/cb939/limits.webp","srcSetWebp":"/static/e8855faea34fa12a992b7cbc6000ed4e/75d10/limits.webp 236w,\n/static/e8855faea34fa12a992b7cbc6000ed4e/2a00c/limits.webp 472w,\n/static/e8855faea34fa12a992b7cbc6000ed4e/cb939/limits.webp 944w,\n/static/e8855faea34fa12a992b7cbc6000ed4e/80f20/limits.webp 1280w","sizes":"(max-width: 944px) 100vw, 944px"},"regular":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAECBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAeEwKg//xAAXEAADAQAAAAAAAAAAAAAAAAAAASBB/9oACAEBAAEFAsHH/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQAGPwJf/8QAGxAAAgEFAAAAAAAAAAAAAAAAAAERIDFRYXH/2gAIAQEAAT8hnAhPXS6j/9oADAMBAAIAAwAAABDwD//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABsQAQEAAgMBAAAAAAAAAAAAAAERACEQQVFx/9oACAEBAAE/EAotATNBJXYyDRH5lZLrzK8f/9k=","aspectRatio":1.7777777777777777,"src":"/static/e8855faea34fa12a992b7cbc6000ed4e/d5b37/limits.jpg","srcSet":"/static/e8855faea34fa12a992b7cbc6000ed4e/6a7e4/limits.jpg 163w,\n/static/e8855faea34fa12a992b7cbc6000ed4e/7e2e7/limits.jpg 327w,\n/static/e8855faea34fa12a992b7cbc6000ed4e/d5b37/limits.jpg 653w,\n/static/e8855faea34fa12a992b7cbc6000ed4e/6aea0/limits.jpg 980w,\n/static/e8855faea34fa12a992b7cbc6000ed4e/e3107/limits.jpg 1280w","srcWebp":"/static/e8855faea34fa12a992b7cbc6000ed4e/0f54f/limits.webp","srcSetWebp":"/static/e8855faea34fa12a992b7cbc6000ed4e/e2fca/limits.webp 163w,\n/static/e8855faea34fa12a992b7cbc6000ed4e/bb40c/limits.webp 327w,\n/static/e8855faea34fa12a992b7cbc6000ed4e/0f54f/limits.webp 653w,\n/static/e8855faea34fa12a992b7cbc6000ed4e/cd024/limits.webp 980w,\n/static/e8855faea34fa12a992b7cbc6000ed4e/80f20/limits.webp 1280w","sizes":"(max-width: 653px) 100vw, 653px"},"narrow":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAECBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAeEwKg//xAAXEAADAQAAAAAAAAAAAAAAAAAAASBB/9oACAEBAAEFAsHH/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQAGPwJf/8QAGxAAAgEFAAAAAAAAAAAAAAAAAAERIDFRYXH/2gAIAQEAAT8hnAhPXS6j/9oADAMBAAIAAwAAABDwD//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABsQAQEAAgMBAAAAAAAAAAAAAAERACEQQVFx/9oACAEBAAE/EAotATNBJXYyDRH5lZLrzK8f/9k=","aspectRatio":1.7777777777777777,"src":"/static/e8855faea34fa12a992b7cbc6000ed4e/2924d/limits.jpg","srcSet":"/static/e8855faea34fa12a992b7cbc6000ed4e/504cd/limits.jpg 114w,\n/static/e8855faea34fa12a992b7cbc6000ed4e/beab7/limits.jpg 229w,\n/static/e8855faea34fa12a992b7cbc6000ed4e/2924d/limits.jpg 457w,\n/static/e8855faea34fa12a992b7cbc6000ed4e/85d2d/limits.jpg 686w,\n/static/e8855faea34fa12a992b7cbc6000ed4e/5e5f8/limits.jpg 914w,\n/static/e8855faea34fa12a992b7cbc6000ed4e/e3107/limits.jpg 1280w","srcWebp":"/static/e8855faea34fa12a992b7cbc6000ed4e/d4e70/limits.webp","srcSetWebp":"/static/e8855faea34fa12a992b7cbc6000ed4e/50468/limits.webp 114w,\n/static/e8855faea34fa12a992b7cbc6000ed4e/3bfb7/limits.webp 229w,\n/static/e8855faea34fa12a992b7cbc6000ed4e/d4e70/limits.webp 457w,\n/static/e8855faea34fa12a992b7cbc6000ed4e/45a20/limits.webp 686w,\n/static/e8855faea34fa12a992b7cbc6000ed4e/0af0b/limits.webp 914w,\n/static/e8855faea34fa12a992b7cbc6000ed4e/80f20/limits.webp 1280w","sizes":"(max-width: 457px) 100vw, 457px"},"seo":{"src":"/static/e8855faea34fa12a992b7cbc6000ed4e/86173/limits.jpg"}}}]}}}